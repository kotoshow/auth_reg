<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Авторизация</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="auth-bg">
		<div class="auth-box">
			<div class="title">Авторизация</div>
			<div class="msg">Неверное имя пользователя или пароль</div>
			<form class="auth-form" name="auth-form" action="auth.html" method="post">
				<div class="note">
					<div class="icon icon-user"></div>
					<div class="note-text">Имя пользователя</div>
				</div>
				<input class="username-input" id="username-input" name="username">
				<div class="note">
					<div class="icon icon-password"></div>
					<div class="note-text">Пароль</div>
				</div>
				<div class="password-input-box">
                    <input class="password-input" id="password-input" name="password" type="password">
                    <div class="password-visible" id="pass-show">
                        <div class="icon-password-visible"></div>
                    </div>
                </div>
                <div class="button form-submit" id="form-submit">
					<p>Войти</p>
					<div class="loading hide"></div>
				</div>
			</form>
			<div class="auth-hint">Цифровая кафедра ТулГУ. Разработка мобильнх и веб-приложений. Практическое занятие по JS. Мшецян Николай</div>
		</div>
	</div>
</body>
<script type="module">

	import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
	import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";

	const firebaseConfig = {
	  apiKey: "AIzaSyBhVhqzorEG78iWJDa9AIT0ur9DF4ui95o",
	  authDomain: "tsu-dk.firebaseapp.com",
	  projectId: "tsu-dk",
	  storageBucket: "tsu-dk.appspot.com",
	  messagingSenderId: "454163346474",
	  appId: "1:454163346474:web:f2827ba89617da0cdfbf53",
	  measurementId: "G-6E7VJKZEJ0"
	};
  
	const app = initializeApp(firebaseConfig);
	
	function signInUser(email, password) {
		signInWithEmailAndPassword(getAuth(app), email, password)
		.then((userCredential) => {
			const user = userCredential.user;
			alert("ok");
		})
		.catch((error) => {
			const errorCode = error.code;
			const errorMessage = error.message;
			alert("err");
		})
	};

	document.getElementById("form-submit").addEventListener("click", signInUser);

  </script>
<script src="script-auth.js"></script>
</html>
